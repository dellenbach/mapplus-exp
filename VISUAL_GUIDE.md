# Split-Screen Visual Guide

## UI Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: GIS Daten AG Logo & Tools                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layers  â”‚                                                      â”‚
â”‚ Panel   â”‚                    MAP AREA                          â”‚
â”‚  (L)    â”‚                                                      â”‚
â”‚         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â—„â–º      â”‚   â”‚                                          â”‚ [ğŸ”+] â”‚
â”‚         â”‚   â”‚                                          â”‚ [ğŸ”-] â”‚
â”‚         â”‚   â”‚                                          â”‚       â”‚
â”‚         â”‚   â”‚        SINGLE MAP VIEW                   â”‚ [âŠ]  â† Split-Screen Button
â”‚         â”‚   â”‚                                          â”‚       â”‚
â”‚         â”‚   â”‚                                          â”‚       â”‚
â”‚         â”‚   â”‚                                          â”‚       â”‚
â”‚         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Split-Screen Mode ACTIVATED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: GIS Daten AG Logo & Tools                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layers  â”‚                                                      â”‚
â”‚ Panel   â”‚              SPLIT SCREEN MODE                       â”‚
â”‚  (L)    â”‚                                                      â”‚
â”‚         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â—„â–º      â”‚   â”‚   KARTE A        â”‚ â”‚   KARTE B        â”‚ [ğŸ”+]   â”‚
â”‚         â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚â•‘â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ [ğŸ”-]   â”‚
â”‚         â”‚   â”‚   â”‚ Label  â”‚     â”‚â•‘â”‚   â”‚ Label  â”‚     â”‚         â”‚
â”‚         â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â•‘â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ [âŠ]    â† Active Button
â”‚         â”‚   â”‚                  â”‚â•‘â”‚                  â”‚         â”‚
â”‚         â”‚   â”‚   Map Instance 1 â”‚â•‘â”‚ Map Instance 2   â”‚         â”‚
â”‚         â”‚   â”‚   (synchronized) â”‚â•‘â”‚ (synchronized)   â”‚         â”‚
â”‚         â”‚   â”‚                  â”‚â•‘â”‚                  â”‚         â”‚
â”‚         â”‚   â”‚   [ğŸ”+] [ğŸ”-]    â”‚â•‘â”‚   [ğŸ”+] [ğŸ”-]    â”‚         â”‚
â”‚         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                       â†‘                              â”‚
â”‚         â”‚                  Resizable                           â”‚
â”‚         â”‚                   Divider                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Button States

### Normal State (Inactive)
```
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚  âŠ  â”‚  â† White background
â””â”€â”€â”€â”€â”€â”€â”˜    Gray icon
            Box shadow
```

### Hover State
```
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚  âŠ  â”‚  â† Light gray background
â””â”€â”€â”€â”€â”€â”€â”˜    Slightly larger (scale 1.05)
            Stronger shadow
```

### Active State (Split-Screen ON)
```
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚  âŠ  â”‚  â† Dark teal background (#2c5f6f)
â””â”€â”€â”€â”€â”€â”€â”˜    White icon
            Highlighted
```

## Split-Screen Icon (SVG)
```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚     â”‚     â”‚
â”‚  A  â•‘  B  â”‚
â”‚     â”‚     â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

## Divider Details

```
Left Panel    Divider    Right Panel
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    50%      â”‚  4px  â”‚     50%
             â”‚       â”‚
    (flex:1) â”‚  â‹®    â”‚  (flex:1)
             â”‚       â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â—„â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â–º
        Draggable
     (20%-80% range)
```

## User Interaction Flow

### 1. Activation
```
Click [âŠ] button
    â†“
Creates split layout
    â†“
Initializes Map B
    â†“
Clones layers from Map A
    â†“
Enables synchronization
    â†“
Split-screen active!
```

### 2. Usage
```
Pan on Map A  â”€â”€â†’  Map B follows
Zoom on Map A â”€â”€â†’  Map B follows
Pan on Map B  â”€â”€â†’  Map A follows
Zoom on Map B â”€â”€â†’  Map A follows

Drag divider  â”€â”€â†’  Resize panels
              (20% â† â†’ 80%)
```

### 3. Deactivation
```
Click [âŠ] button again
    â†“
Destroys Map B
    â†“
Removes split layout
    â†“
Restores Map A to full width
    â†“
Single map view restored
```

## Responsive Behavior

### Desktop (> 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Map A      â”‚ â”‚  Map B      â”‚  Full features
â”‚  (50%)      â”‚ â”‚  (50%)      â”‚  Comfortable view
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile (â‰¤ 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Map A   â”‚ â”‚  Map B   â”‚  Smaller button
â”‚  (50%)   â”‚ â”‚  (50%)   â”‚  Reduced labels
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Layer Cloning Process

```
Main Map (Map A)
    â”‚
    â”œâ”€ Layer 1: Orthofoto (TileWMS)
    â”œâ”€ Layer 2: Basisplan (ImageWMS)
    â””â”€ Layer 3: Overlays (XYZ)
    
    â†“ Clone Process â†“
    
Map B (Second Map)
    â”‚
    â”œâ”€ Layer 1: Orthofoto (cloned)
    â”œâ”€ Layer 2: Basisplan (cloned)
    â””â”€ Layer 3: Overlays (cloned)
```

## Synchronization Mechanism

```
Event on Map A          Debounce (50ms)      Update Map B
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
change:center      â”€â”€â”€â†’   Wait 50ms    â”€â”€â”€â†’  setCenter()
change:resolution  â”€â”€â”€â†’   Wait 50ms    â”€â”€â”€â†’  setResolution()

                    â†• Bidirectional â†•

Event on Map B          Debounce (50ms)      Update Map A
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
change:center      â”€â”€â”€â†’   Wait 50ms    â”€â”€â”€â†’  setCenter()
change:resolution  â”€â”€â”€â†’   Wait 50ms    â”€â”€â”€â†’  setResolution()
```

## Code Structure

```
window.TnetSplitScreen
    â”‚
    â”œâ”€ enabled: boolean
    â”œâ”€ map2: ol.Map instance
    â”œâ”€ dividerPosition: number
    â”‚
    â”œâ”€ init()
    â”‚   â”œâ”€ createSplitLayout()
    â”‚   â”œâ”€ initializeMap2()
    â”‚   â”œâ”€ setupSynchronization()
    â”‚   â””â”€ setupResizer()
    â”‚
    â”œâ”€ disable()
    â”‚   â”œâ”€ Remove split wrapper
    â”‚   â”œâ”€ Destroy map2
    â”‚   â””â”€ Restore original layout
    â”‚
    â”œâ”€ toggle()
    â”‚   â””â”€ Call init() or disable()
    â”‚
    â””â”€ cloneLayer(layer)
        â”œâ”€ Check layer type
        â”œâ”€ Clone source (with deep copy)
        â””â”€ Return new layer
```

## File Dependencies

```
index_de.htm
    â”‚
    â”œâ”€ Includes: tnet-splitscreen.css
    â”‚      â””â”€ Styles for button, panels, divider
    â”‚
    â””â”€ Includes: tnet-splitscreen.js
           â”œâ”€ Requires: OpenLayers (ol.js)
           â”œâ”€ Requires: DOM (mapContainer, map)
           â””â”€ Exports: window.TnetSplitScreen
                       toggleSplitScreen()
```

## Future Enhancement Ideas

```
Current Implementation
    â†“
    â”œâ”€ Independent Layer Selection
    â”‚   â””â”€ Control which layers show on each map
    â”‚
    â”œâ”€ Vertical Split
    â”‚   â””â”€ Option for top/bottom layout
    â”‚
    â”œâ”€ Quad View
    â”‚   â””â”€ Four maps (2x2 grid)
    â”‚
    â”œâ”€ Comparison Presets
    â”‚   â””â”€ Save favorite layer combinations
    â”‚
    â””â”€ Export Feature
        â””â”€ Screenshot both maps together
```

---

**Legend:**
- `[âŠ]` = Split-screen button
- `[ğŸ”+]` = Zoom in
- `[ğŸ”-]` = Zoom out
- `â”‚â•‘â”‚` = Resizable divider
- `â—„â–º` = Expandable panel
- `â‹®` = Drag handle
