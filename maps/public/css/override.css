/* Grid-CSS Imports (tundraGrid.css wird per <link> in index_de.htm geladen) */
@import "/mapplus-lib/dojo-release/dojo-release-1.17.3/dojox/grid/enhanced/resources/tundra/EnhancedGrid.css";
@import "/mapplus-lib/dojo-release/dojo-release-1.17.3/dojox/grid/enhanced/resources/EnhancedGrid_rtl.css";

/* TYDAC Disclaimer ausblenden */
#disclaimer_mapplusbytydac {
  display: none !important;
}

/* ========================================
   WMS Menu - Kompaktere Darstellung
   ======================================== */
#tp_wms_menu .dijitTitlePaneTextNode {
  font-size: 13px !important;
}

#tp_wms_menu .wms-cont {
  font-size: 12px;
}

#tp_wms_menu .dijitTextBox,
#tp_wms_menu .dijitComboBox {
  font-size: 12px !important;
}

#tp_wms_menu .dijitInputInner {
  font-size: 12px !important;
  padding: 4px 6px !important;
}

#tp_wms_menu .dijitPlaceHolder {
  font-size: 11px !important;
}

#tp_wms_menu .dijitButton .dijitButtonText {
  font-size: 12px !important;
}

#tp_wms_menu .dijitButtonNode {
  padding: 2px 8px !important;
}

#tp_wms_menu .dojoxGridHeader th {
  font-size: 12px !important;
  padding: 4px !important;
}

#tp_wms_menu .dojoxGridCell {
  font-size: 12px !important;
}

#tp_wms_menu .dijitDialogPaneContent {
  font-size: 12px !important;
  padding: 4px !important;
}

#tp_wms_menu .row {
  margin: 4px 0 !important;
}

#tp_wms_menu #wmsimportGrid {
  height: 120px !important;
}

#tp_wms_menu .dojoxGridMasterHeader {
  height: auto !important;
}

#tp_wms_menu #wmsimport_abstract_wrapper {
  height: 50px !important;
  font-size: 11px !important;
}

/* #logoMapPlus {
  height: 110px !important;
  background: url(../img/gr_logo.svg) center no-repeat;
  background-size: 260px;
} */

#infowin_wait {
  filter: grayscale(100%);
}

div[class^='btn'] {
  background-color: #4b7b81;
}

div[class^="btn"]:hover {
  background-color: #dd1533;
}

/* input[type="range"]::-webkit-slider-thumb,
input[type="range"]::-moz-range-thumb {
  background: #4b7b81;
}

input[type="range"]::-moz-range-thumb:active,
input[type="range"]::-moz-range-thumb:hover {
  background: #4b7b81 !important;
} */

input[type="range"]::-webkit-slider-thumb:active,
input[type="range"]::-webkit-slider-thumb:hover {
  background: #dd1533 !important;
  cursor: pointer;
}

.tundra .dojoxFloatingPaneTitle {
  background-color: #4b7b81 !important;
}

/* ===== INFO PANE (Objektinformation) - Gleiches Styling wie Räumliche Abfrage ===== */
#njs_info_pane {
  width: 10cm !important;
  min-width: 350px;
  max-width: none !important; /* Freies Resizen erlauben */
  min-height: 150px;
  border-radius: 6px !important;
  overflow: hidden !important;
  box-shadow: 0 4px 16px rgba(0,0,0,0.25) !important;
  border: none !important;
}

/* Header wie Räumliche Abfrage - gleiche Höhe */
#njs_info_pane .dojoxFloatingPaneTitle {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  justify-content: flex-start !important;
  padding: 8px 10px !important;
  background: #4b7b81 !important;
  color: white !important;
  font-weight: 500 !important;
  cursor: move !important;
  user-select: none !important;
  height: 36px !important;
  min-height: 36px !important;
  box-sizing: border-box !important;
}

/* Original Close-Button verstecken (wird durch custom ersetzt) */
#njs_info_pane .dojoxFloatingCloseIcon {
  display: none !important;
}

/* Titel-Text - zuerst, dann flex-grow */
#njs_info_pane .dijitTitleNode {
  flex: 1 !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  color: white !important;
  order: 1 !important;
  margin-left: 0 !important;
}

#njs_info_pane .dijitTitleNode table {
  color: white !important;
}

/* Verstecke originale Dojo-Icons */
#njs_info_pane .dojoxFloatingMaximizeIcon,
#njs_info_pane .dojoxFloatingRestoreIcon,
#njs_info_pane .dojoxFloatingMinimizeIcon {
  display: none !important;
}

/* Custom Action Buttons - rechts */
#njs_info_pane .info-pane-actions {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  margin-left: auto !important;
  margin-right: 0 !important;
  order: 2 !important;
}

#njs_info_pane .info-pane-btn {
  background: rgba(255,255,255,0.15) !important;
  border: none !important;
  color: white !important;
  width: 24px !important;
  height: 24px !important;
  border-radius: 4px !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: background 0.2s !important;
}

#njs_info_pane .info-pane-btn:hover {
  background: rgba(255,255,255,0.3) !important;
}

#njs_info_pane .info-pane-btn svg {
  width: 16px !important;
  height: 16px !important;
}

/* Original Dojo Close-Button bleibt versteckt - Custom Button wird verwendet */

/* Content-Bereich */
#njs_info_pane .dojoxFloatingPaneCanvasInfo {
  background: white !important;
  flex: 1 !important;
  overflow: hidden !important;
  position: relative !important;
}

#njs_info_pane .dojoxFloatingPaneContentInfo {
  overflow-y: auto !important;
  overflow-x: auto !important;
  height: 100% !important;
  padding: 0 !important;
}

/* Resize Handle (Dojo original) - KOMPLETT VERSTECKT */
#njs_info_pane .dojoxFloatingResizeHandle {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

#njs_info_pane .dojoxFloatingResizeHandle:hover {
  display: none !important;
}

/* Resize Handles für Info Panel - alle Seiten */
#njs_info_pane .info-pane-resize-top,
#njs_info_pane .info-pane-resize-bottom,
#njs_info_pane .info-pane-resize-left,
#njs_info_pane .info-pane-resize-right {
  position: absolute !important;
  z-index: 100 !important;
  transition: background 0.2s;
}

#njs_info_pane .info-pane-resize-top {
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 6px !important;
  cursor: ns-resize !important;
}

#njs_info_pane .info-pane-resize-bottom {
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 6px !important;
  cursor: ns-resize !important;
}

#njs_info_pane .info-pane-resize-left {
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 8px !important;
  cursor: ew-resize !important;
  background: linear-gradient(to right, rgba(75,123,129,0.15), transparent) !important;
}

#njs_info_pane .info-pane-resize-right {
  right: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 8px !important;
  cursor: ew-resize !important;
  background: linear-gradient(to left, rgba(75,123,129,0.15), transparent) !important;
}

/* Hover-Effekte */
#njs_info_pane .info-pane-resize-top:hover,
#njs_info_pane .info-pane-resize-bottom:hover {
  background: rgba(75,123,129,0.15) !important;
}

#njs_info_pane .info-pane-resize-left:hover {
  background: linear-gradient(to right, rgba(75,123,129,0.3), transparent) !important;
}

#njs_info_pane .info-pane-resize-right:hover {
  background: linear-gradient(to left, rgba(75,123,129,0.3), transparent) !important;
}

/* Ecken-Handles */
#njs_info_pane .info-pane-resize-corner-tl,
#njs_info_pane .info-pane-resize-corner-tr,
#njs_info_pane .info-pane-resize-corner-bl,
#njs_info_pane .info-pane-resize-corner-br {
  position: absolute !important;
  width: 12px !important;
  height: 12px !important;
  z-index: 101 !important;
}

#njs_info_pane .info-pane-resize-corner-tl {
  top: 0 !important;
  left: 0 !important;
  cursor: nwse-resize !important;
}

#njs_info_pane .info-pane-resize-corner-tr {
  top: 0 !important;
  right: 0 !important;
  cursor: nesw-resize !important;
}

#njs_info_pane .info-pane-resize-corner-bl {
  bottom: 0 !important;
  left: 0 !important;
  cursor: nesw-resize !important;
}

#njs_info_pane .info-pane-resize-corner-br {
  bottom: 0 !important;
  right: 0 !important;
  width: 20px !important;
  height: 20px !important;
  cursor: nwse-resize !important;
  background: linear-gradient(135deg, transparent 50%, rgba(75,123,129,0.5) 50%) !important;
}

#njs_info_pane .info-pane-resize-corner-br:hover {
  background: linear-gradient(135deg, transparent 50%, #4b7b81 50%) !important;
}

/* Angedockt rechts */
#njs_info_pane.docked-right {
  position: fixed !important;
  top: 69px !important;
  right: 0 !important;
  left: auto !important;
  bottom: 32px !important;
  width: 400px;
  height: auto !important;
  max-height: none !important;
  border-radius: 0 !important;
  box-shadow: -4px 0 12px rgba(0,0,0,0.15) !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Im angedockten Modus: nur linken Handle zeigen, alle anderen verstecken */
#njs_info_pane.docked-right .dojoxFloatingResizeHandle,
#njs_info_pane.docked-right .info-pane-resize-top,
#njs_info_pane.docked-right .info-pane-resize-bottom,
#njs_info_pane.docked-right .info-pane-resize-right,
#njs_info_pane.docked-right .info-pane-resize-corner-tl,
#njs_info_pane.docked-right .info-pane-resize-corner-tr,
#njs_info_pane.docked-right .info-pane-resize-corner-bl,
#njs_info_pane.docked-right .info-pane-resize-corner-br {
  display: none !important;
}

#njs_info_pane.docked-right .info-pane-resize-left {
  display: block !important;
}

/* Content im angedockten Modus flexibel */
#njs_info_pane.docked-right .dojoxFloatingPaneCanvasInfo {
  flex: 1 !important;
  min-height: 0 !important;
  overflow: hidden !important;
}

#njs_info_pane.docked-right .dojoxFloatingPaneContentInfo {
  height: 100% !important;
  max-height: none !important;
}

/* FloatingPane Title allgemein */
.dojoxFloatingPane .dojoxFloatingPaneTitle {
  position: relative;
  z-index: 1000;
}

[type="checkbox"],
[type="radio"] {
  accent-color: #4b7b81 !important;
}

#btnZuruck,
#solrsearchSearchInputCancel,
.infoWindowIpadClose {
  filter: grayscale(100%);
}

#infowin_wait {
  filter: hue-rotate(210deg) brightness(1.3);
}

#second_lyrmgr .dijitTitlePaneTextNode,
#layer_menu .dijitTitlePaneTextNode {
  margin-left: 11px;
  margin-top: -12px;
}

/* ===== Layer Manager TitlePane vertikale Zentrierung ===== */
/* TitlePaneTitle als Flex-Container für vertikale Zentrierung */
.dijitTitlePaneTitle {
  display: flex !important;
  align-items: center !important;
  min-height: 32px !important;
}

/* TitlePaneTitleFocus (enthält Arrow + Text + Buttons) */
.dijitTitlePaneTitleFocus {
  display: flex !important;
  align-items: center !important;
  flex: 1 !important;
  min-height: 28px !important;
}

/* TextNode mit allen Kindelementen vertikal zentrieren */
.dijitTitlePaneTextNode {
  display: inline-flex !important;
  align-items: center !important;
  flex-wrap: nowrap !important;
  gap: 4px !important;
}

/* Checkbox und andere inline-Elemente zentrieren */
.dijitTitlePaneTextNode .dijitCheckBox,
.dijitTitlePaneTextNode .dijitInline,
.dijitTitlePaneTextNode img,
.dijitTitlePaneTextNode a {
  vertical-align: middle !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* Arrow-Icon vertikal zentrieren */
.dijitArrowNode {
  display: inline-flex !important;
  align-items: center !important;
  align-self: center !important;
}

/* Icons/Buttons rechts im TitlePane zentrieren */
.dijitTitlePaneTextNode .imagelink,
.dijitTitlePaneTextNode > a > img {
  display: inline-flex !important;
  align-items: center !important;
  vertical-align: middle !important;
}

.ol-overviewmap {
  right: 1.5px;
  bottom: 1.5px;
  left: auto;
}

.ol-overviewmap .ol-overviewmap-map {
  border: 2px solid red;
  height: 240px;
  width: 315px;
}

.ol-overviewmap-box {
  background-color: rgba(255, 255, 255, 0.6);  
  border: 3px dotted red;
}

.compact_center {
  margin-left: 0px !important;
}

.ol-control button {
  background-color: #4b7b81;
}

.ol-control button:hover {
	color: #FFF;
	background-color: red;
	outline: none !important;
}

.infolay_wait {
  height: 60px;
  width: 60px;
  border: none;
  font-size: 0px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* GIS Daten AG Overload Styles - Modal Dialog */
/* ========================================
   Modal Dialog Styling für Maps-Katalog
   ======================================== */

div#search_container {
  position: fixed;
  left: 50%;
  top: 0px;
  transform: translateX(-50%);
  width: 340px;
  height: 38px;
  box-sizing: border-box;
}

input#solrsearchFirstParamSelect {
  border: 5px solid rgb(99, 41, 41);
  box-sizing: border-box;
}

/* Header-Bereich */
div#njs_search_wrapper,
body div#njs_search_wrapper {
  position: fixed !important;
  top: 12px !important;
  left: 340px !important;
  right: 0 !important;
  width: auto !important;
  box-sizing: border-box !important;
  z-index: 1000 !important;
  background: transparent !important;
  height: 45px !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
}

/* Search Container */
div#search_container,
body div#search_container,
div#njs_search_wrapper div#search_container {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  transform: none !important;
  width: 330px !important;
  height: 45px !important;
  background: #e8f0f1 !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  display: flex !important;
  align-items: center !important;
  padding: 0 10px !important;
  box-sizing: border-box !important;
}

div#search_container #srch_free {
  width: 100% !important;
  display: flex !important;
  align-items: center !important;
}

div#search_container #srch_free > div {
  width: 100% !important;
  align-items: center !important;
}

/* Lupe links */
div#search_container .iconSearch {
  flex-shrink: 0 !important;
  width: 20px !important;
  height: 20px !important;
  margin-right: 10px !important;
  opacity: 0.6;
}

/* Suchfeld-Input Styling */
div#search_container .dijitTextBox {
  flex: 1 !important;
  height: 40px !important;
  border: none !important;
  background: transparent !important;
  overflow: visible !important;
}

div#search_container .dijitInputInner {
  width: 100% !important;
  height: 40px !important;
  border: none !important;
  outline: none !important;
  font-size: 14px !important;
  background: transparent !important;
  padding: 0 !important;
  text-align: left !important;
  margin-top: 2px !important;
  overflow: visible !important;
}

div#search_container .dijitPlaceHolder {
  text-align: left !important;
  color: #888 !important;
  font-size: 14px !important;
  margin-top: 8px !important;
  overflow: visible !important;
}

div#search_container .dijitInputContainer {
  overflow: visible !important;
}

/* Kreuz rechts, feiner */
div#search_container .clearSearch {
  flex-shrink: 0 !important;
  width: 18px !important;
  height: 18px !important;
  margin-left: 10px !important;
  cursor: pointer !important;
  opacity: 0.5 !important;
}

div#search_container .clearSearch:hover {
  opacity: 1 !important;
}

/* Arrow Button verstecken */
div#search_container .dijitArrowButton {
  display: none !important;
}

/* Validation Icon verstecken */
div#search_container .dijitValidationContainer {
  display: none !important;
}

/* Disclaimer unterhalb Header */
#disclaimer_pdf,
body #disclaimer_pdf,
div#disclaimer_pdf,
#disclaimer_news,
body #disclaimer_news,
div#disclaimer_news {
  top: 75px !important;
  left: 390px !important;
}

/* Search Dropdown Popup - NUR für Suche, nicht global! */
#widget_solrsearchFirstParamSelect_dropdown {
  left: 340px !important;
  top: 57px !important;
}

div#njs_search_wrapper .solrsearchSearchInputCancel:hover,
div#njs_search_wrapper [class*="cancel"]:hover,
div#njs_search_wrapper button:hover {
  color: #dd1533 !important;
}

div#leftPaneHeader {
  margin-left: 0;
  box-sizing: border-box;
  color: #700011 !important;
  display: none; /* Ausgeblendet, Logo ist jetzt separat */
}

div#freepane {
  left: 0 !important;
  top: 69px !important;
  width: 340px;
  z-index: 50;
  position: fixed !important;
  bottom: 0 !important;
  height: auto !important;
  overflow: visible !important;
  pointer-events: none !important; /* Container lässt Klicks durch */
}

/* Spring Container - braucht pointer-events für Scrolling */
#spring {
  pointer-events: auto; /* Scroll muss funktionieren */
  width: 340px !important; /* Begrenzt auf Panel-Breite */
}

/* Während Polygon-Zeichnen: Freepane komplett deaktivieren */
body.drawing-mode #freepane {
  pointer-events: none !important;
}

body.drawing-mode #freepane * {
  pointer-events: none !important;
}

/* Spatial Query Panel bleibt IMMER bedienbar */
.spatial-query-panel {
  pointer-events: auto !important;
}

.spatial-query-panel * {
  pointer-events: auto;
}

/* Nur echte interaktive Elemente bekommen pointer-events zurück */
#freepane #leftPaneHeader,
#freepane .dijitTitlePane,
#freepane .close_switch,
#freepane #scrollToTopBtn,
#freepane .dijitTitlePaneTitle,
#freepane .dijitTitlePaneContentOuter {
  pointer-events: auto;
}

/* Spring Container - scrollbar ohne Scrollbalken */
#spring {
  height: 100% !important;
  overflow-y: auto !important;
  overflow-x: visible !important;
  padding-bottom: 60px !important;
  box-sizing: border-box !important;
  /* Scrollbalken verstecken */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

#spring::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

/* Scroll-to-Top Button - Kreis mit Chevron */
#scrollToTopBtn {
  position: fixed;
  bottom: 24px;
  left: 318px;
  width: 44px;
  height: 44px;
  background: #e8423f;
  color: white;
  border: 4px solid #e8423f;
  border-radius: 50%;
  cursor: pointer;
  font-size: 0;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.25);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Chevron-Pfeil mit CSS - zentriert */
#scrollToTopBtn::before {
  content: '';
  display: block;
  width: 12px;
  height: 12px;
  border-left: 3px solid white;
  border-top: 3px solid white;
  transform: rotate(45deg) translateX(2px) translateY(2px);
}

#scrollToTopBtn.visible {
  opacity: 1;
  visibility: visible;
}

#scrollToTopBtn:hover {
  background: #4b7b81;
  border-color: #4b7b81;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

#scrollToTopBtn:active {
  transform: translateY(0);
}

/* Panel Zusammenklappen Button */
#freepane {
  position: absolute;
  display: flex;
  flex-direction: column;
}

#spring {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  /* pointer-events wird oben bereits auf none gesetzt */
}

/* Panel-Schatten wird per JavaScript positioniert */
#panelShadow {
  position: fixed;
  left: 0;
  pointer-events: none;
  z-index: 99;
  box-shadow: 4px 0 10px rgba(0,0,0,0.15);
  border-radius: 0 0 4px 4px;
  overflow: hidden;
}

.close_switch {
  position: relative;
  width: 100%;
  height: 10px;
  background: #95b5be;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  flex-shrink: 0;
  left: 0;
}

.close_switch:hover {
  background: #4b7b81;
}

.close_switch::before {
  content: '';
  width: 40px;
  height: 2px;
  background: rgba(255,255,255,0.8);
  border-radius: 1px;
}

.close_switch:hover::before {
  background: rgba(255,255,255,1);
}

/* Panel geschlossen Status */
#freepane {
  max-height: 100vh;
  transition: max-height 0.5s ease;
  overflow: visible;
}

#freepane.close {
  max-height: 10px !important;
  min-height: 0 !important;
}

/* Freepane kürzen wenn Spatial Query Panel angedockt */
#freepane.panel-docked {
  /* bottom wird dynamisch per JS gesetzt */
  transition: bottom 0.15s ease;
}

#freepane.close .close_switch {
  width: 170px;
  margin: 0 auto;
  border-radius: 0 0 4px 4px;
  height: 10px !important;
  min-height: 10px !important;
}

/* Balken schrumpft nur beim Schließen */
#freepane:not(.close) .close_switch {
  transition: none;
}

#freepane.close .close_switch {
  transition: width 0.5s ease, margin 0.5s ease;
}

#freepane.close .close_switch::before {
  width: 30px;
  height: 2px;
}

/* Haupt-Container unter Header positionieren */
#NeapoljsContainer {
  position: fixed !important;
  top: 69px !important;
  left: 0;
  right: 0;
  bottom: 0;
  height: auto !important;
}

/* GIS Logo Header links oben */
#gis_logo_header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 69px;
  background: #fcfcfc;
  z-index: 999;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* Header Toolbar rechts oben */
#header_toolbar {
  position: fixed;
  top: 18px;
  right: 20px;
  z-index: 1001;
  display: flex;
  align-items: center;
  gap: 12px;
}

#header_toolbar .toolbar-item {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
  background: transparent;
  border: none;
  color: #666;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 4px;
}

#header_toolbar .toolbar-item:hover {
  color: #4b7b81;
  background: rgba(75, 123, 129, 0.1);
}

#header_toolbar .toolbar-item svg {
  width: 20px;
  height: 20px;
  fill: currentColor;
}

/* Hamburger Menü Dropdown */
#header_menu {
  position: relative;
}

.menu-dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 8px;
  min-width: 180px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
  z-index: 9999;
}

#header_menu.open .menu-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  color: #444;
  font-family: "Roboto", sans-serif;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.15s ease;
}

.menu-item:first-child {
  border-radius: 4px 4px 0 0;
}

.menu-item:last-child {
  border-radius: 0 0 4px 4px;
}

.menu-item:only-child {
  border-radius: 4px;
}

.menu-item:hover {
  background: rgba(75, 123, 129, 0.1);
  color: #4b7b81;
}

.menu-item svg {
  width: 20px;
  height: 20px;
  fill: currentColor;
}

/* Anmelde-Button in Toolbar */
#header_login {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: transparent;
  border: none;
  color: #4b7b81;
  font-family: "Roboto", sans-serif;
  font-size: 14px;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
}

#header_login:hover {
  background: rgba(75, 123, 129, 0.1);
}

#header_login .login-text {
  font-size: 14px;
}

#header_login .login-arrow {
  width: 14px;
  height: 14px;
  fill: #4b7b81;
}

/* Abmelde-Bereich (angemeldet) */
#header_logout {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: transparent;
  border: none;
  color: #444;
  font-family: "Roboto", sans-serif;
  font-size: 14px;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
}

#header_logout:hover {
  background: rgba(0, 0, 0, 0.05);
}

#header_logout .user-icon {
  width: 18px;
  height: 18px;
  fill: #666;
}

#header_logout .username-text {
  color: #444;
  font-weight: 500;
}

#header_logout .separator {
  color: #999;
  margin: 0 2px;
}

#header_logout .logout-text {
  color: #666;
}

#header_logout .logout-arrow {
  width: 14px;
  height: 14px;
  fill: #4b7b81;
  transform: rotate(180deg);
}

/* Kartenauswahl Button links oben */
#header_maps_select {
  position: fixed;
  left: 200px;
  top: 18px;
  z-index: 1002;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-family: 'Roboto', Arial, sans-serif;
  font-size: 13px;
  font-weight: 500;
  color: #4b7b81;
  transition: all 0.2s ease;
}

#header_maps_select:hover {
  color: #3a6268;
}

#header_maps_select .maps-icon {
  display: flex;
  align-items: center;
}

#header_maps_select .maps-icon img {
  width: 30px;
  height: 30px;
}

#header_maps_select:hover .maps-icon img {
  transform: scale(1.05);
  transition: transform 0.2s ease;
}

#gis_logo_container {
  position: fixed;
  top: 5px;
  left: 12px;
  z-index: 1001;
  cursor: pointer;
  display: block;
  text-decoration: none;
}

#gis_logo_container .gis-logo-svg {
  height: 58px;
  width: auto;
  display: block;
}

#gis_logo_container .gis-logo-cube {
  position: absolute;
  height: 18px;
  width: auto;
  top: -3px;
  left: 30px;
}

#gis_logo_container:hover {
  opacity: 0.85;
}

/* Hintergrund abdunkeln */
.dijitDialogUnderlay {
  background-color: rgba(0, 0, 0, 0.7) !important;
  opacity: 1 !important;
}

/* Base Typography - Roboto als Hauptschrift */
body,
.tundra,
.dijitContentPane,
.dijitTitlePane,
.dijitButton,
.dijitTextBox,
.dijitSelect,
input,
button,
select,
textarea {
  font-family: "Roboto", sans-serif !important;
}

body {
  font-size: 14px;
  line-height: 1.5;
  color: #333;
}

h1, h2, h3 {
  font-weight: 600;
  color: #1d1d1b;
}

h2 {
  font-size: 1.75rem;
  margin-bottom: 1rem;
}

h3 {
  font-size: 1.25rem;
  margin-bottom: 0.75rem;
}

#mapsInfoDialog.dijitDialog {
  width: 1300px !important;
  height: 90vh !important;
  max-width: 1300px !important;
  max-height: 90vh !important;
  border: none !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5) !important;
  overflow: hidden !important;
}

@media (max-width: 1400px) {
  #mapsInfoDialog.dijitDialog {
    width: 90vw !important;
  }
}

#mapsInfoDialog .dijitDialogTitleBar {
  display: none !important;
}

#mapsInfoDialog .dijitDialogPaneContent {
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: none !important;
}

/* Nur X ohne runden Button */
.customCloseBtn {
  position: absolute;
  top: 16px;
  right: 16px;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 10000;
  font-size: 40px;
  font-weight: 300;
  color: white;
  line-height: 56px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  transition: all 0.2s ease;
  padding: 0;
  margin: 0;
  width: 56px;
  height: 56px;
  display: flex !important;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.customCloseBtn:hover {
  color: #ff4444;
  transform: scale(1.2);
  text-shadow: 0 2px 8px rgba(255,68,68,0.8);
}

/* Zurück-Button */
.customBackBtn {
  position: absolute;
  top: 16px;
  right: 72px;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 10000;
  font-size: 40px;
  font-weight: 300;
  color: white;
  line-height: 56px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  transition: all 0.2s ease;
  padding: 0;
  margin: 0;
  width: 56px;
  height: 56px;
  display: flex !important;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.customBackBtn:hover {
  color: #4CAF50;
  transform: scale(1.2);
  text-shadow: 0 2px 8px rgba(76,175,80,0.8);
}

/* Refresh-Button */
.customRefreshBtn {
  position: absolute;
  top: 16px;
  right: 136px;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 10000;
  font-size: 40px;
  font-weight: 300;
  color: white;
  line-height: 56px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  transition: all 0.2s ease;
  padding: 0;
  margin: 0;
  width: 56px;
  height: 56px;
  display: none;
  align-items: center;
  justify-content: center;
  text-align: center;
}

#mapsInfoDialog.dijitDialogVisible .customRefreshBtn {
  display: flex;
}
/* ========================================
   Themenkatalog - Layer Manager Styling
   ======================================== */

/* Fix TabContainer height for Bund and Weitere - set to same as Obwalden */
#third_lyrmgr.dijitTabContainer,
#forth_lyrmgr.dijitTabContainer {
  height: 411px !important;
  min-height: 411px !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* Ensure content panes scroll within tab container */
#third_lyrmgr .dijitTabPane,
#forth_lyrmgr .dijitTabPane {
  height: auto !important;
  overflow-y: auto !important;
}

/* Fix für ContentPane Höhenrestriktionen */
#layer_menu.dijitContentPane,
#layer_menu2.dijitContentPane,
#layer_menu3.dijitContentPane,
#layer_menu4.dijitContentPane {
  height: auto !important;
  overflow: visible !important;
}

/* Direkter Fix der wrapper-divs wenn sie gehidden werden */
#njs_main_lyrmgr_wrapper > *,
#njs_second_lyrmgr_wrapper > *,
#njs_third_lyrmgr_wrapper > *,
#njs_forth_lyrmgr_wrapper > * {
  width: 100% !important;
  height: auto !important;
  max-height: none !important;
}

/* Alle Kindelemente in den Wrappern */
#njs_main_lyrmgr_wrapper > * > *,
#njs_second_lyrmgr_wrapper > * > *,
#njs_third_lyrmgr_wrapper > * > *,
#njs_forth_lyrmgr_wrapper > * > * {
  height: auto !important;
  max-height: none !important;
}

/* Verhindere dass Dijit die TitlePane zu macht */
.dijitTitlePane .dijitTitlePaneContentOuter {
  overflow: visible !important;
}

#tp_layer_menu3 .dijitTitlePaneContentOuter,
#tp_layer_menu4 .dijitTitlePaneContentOuter {
  overflow: visible !important;
  height: auto !important;
}

/* Layer Manager spezifische Container */
.ClassicLayerMgr,
.ClassicLayerMgr > div {
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;
}

/* Basemap Selector rechts unten */
#basemap_selector {
  position: absolute;
  right: 20px;
  bottom: 30px;
  z-index: 999;
  width: 100px;
  height: 80px;
  background: #fff;
  border: 2px solid #424A52;
  border-radius: 4px;
  cursor: pointer;
  overflow: hidden;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.3s ease;
}

#basemap_selector:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

/* Kachel ausblenden wenn Widget offen */
#basemap_selector.hidden {
  opacity: 0;
  pointer-events: none;
}

#basemap_selector .basemap-preview {
  width: 100%;
  height: 100%;
  background-image: url('/maps/tnet/resources/images/basemap-preview-grey.png');
  background-size: cover;
  background-position: center;
  background-color: #b6c6cb;
}

#basemap_selector .basemap-label {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(66, 74, 82, 0.85);
  color: white;
  font-family: 'Roboto', Arial, sans-serif;
  font-size: 11px;
  font-weight: 500;
  text-align: center;
  padding: 4px 0;
}

/* Basemap Widget - wächst aus der Kachel */
#basemap_widget {
  position: absolute;
  right: 20px;
  bottom: 30px;
  width: 340px;
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.25);
  z-index: 1000;
  font-family: 'Roboto', Arial, sans-serif;
  overflow: hidden;
  transform-origin: right bottom;
  transition: transform 0.35s cubic-bezier(0.34, 1.3, 0.64, 1), 
              opacity 0.25s ease;
}

#basemap_widget.basemap-widget-hidden {
  opacity: 0;
  transform: scale(0.29) translateX(0) translateY(0); /* 100/340 ≈ 0.29 */
  pointer-events: none;
}

.basemap-widget-header {
  background: #4b7b81;
  color: white;
  padding: 12px 16px;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 1px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.basemap-widget-close {
  background: none;
  border: none;
  color: white;
  font-size: 22px;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  opacity: 0.8;
}

.basemap-widget-close:hover {
  opacity: 1;
}

.basemap-widget-content {
  padding: 16px;
}

/* Layer Toggles */
.basemap-layer-section {
  margin-bottom: 16px;
}

.basemap-layer-row {
  display: flex;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}

.basemap-layer-row:last-child {
  border-bottom: none;
}

.layer-icon {
  width: 28px;
  color: #e8423f;
  font-size: 16px;
  text-align: center;
  flex-shrink: 0;
}

.layer-label {
  flex: 1;
  font-size: 13px;
  color: #333;
}

.layer-toggle {
  display: flex;
  gap: 0;
}

.toggle-btn {
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 500;
  border: 1px solid #ccc;
  background: #fff;
  color: #666;
  cursor: pointer;
  transition: all 0.2s ease;
}

.toggle-btn:first-child {
  border-radius: 3px 0 0 3px;
}

.toggle-btn:last-child {
  border-radius: 0 3px 3px 0;
  border-left: none;
}

.toggle-btn.active {
  background: #4b7b81;
  border-color: #4b7b81;
  color: white;
}

.toggle-btn:hover:not(.active) {
  background: #f0f0f0;
}

/* Transparency Slider */
.transparency-slider {
  flex: 1;
  margin: 0 10px;
  height: 4px;
  -webkit-appearance: none;
  appearance: none;
  background: #ddd;
  border-radius: 2px;
  cursor: pointer;
}

.transparency-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  background: #4b7b81;
  border-radius: 50%;
  cursor: pointer;
}

.transparency-slider::-moz-range-thumb {
  width: 14px;
  height: 14px;
  background: #4b7b81;
  border-radius: 50%;
  cursor: pointer;
  border: none;
}

.transparency-value {
  font-size: 12px;
  color: #666;
  min-width: 28px;
  text-align: right;
}

/* Expand Header */
.basemap-expand-header {
  background: #4b7b81;
  color: white;
  padding: 8px 12px;
  font-size: 12px;
  cursor: pointer;
  margin: 0 -16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.basemap-expand-header:hover {
  background: #3d6a6f;
}

.expand-icon {
  font-size: 10px;
  transition: transform 0.2s ease;
}

/* Haupt-Basemap Kacheln (immer sichtbar) */
.basemap-cards-main {
  display: flex;
  gap: 10px;
  padding: 0 0 12px 0;
}

.basemap-cards-main .basemap-card {
  flex: 1;
  min-width: 0;
}

/* Erweiterte Basemap Cards */
.basemap-cards {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 0 -16px;
  padding: 12px 16px;
  background: #f5f5f5;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease, padding 0.3s ease;
  padding-top: 0;
  padding-bottom: 0;
}

.basemap-cards.expanded {
  max-height: 200px;
  padding: 12px 16px;
}

.basemap-cards .basemap-card {
  flex: 0 0 calc(33.333% - 7px);
  min-width: 0;
}

.basemap-card {
  cursor: pointer;
  border-radius: 4px;
  overflow: hidden;
  border: 2px solid transparent;
  transition: border-color 0.2s ease, transform 0.2s ease;
}

.basemap-card:hover {
  transform: scale(1.02);
}

.basemap-card.active {
  border-color: #4b7b81;
}

.basemap-card-preview {
  height: 60px;
  background-size: cover;
  background-position: center;
  background-color: #b6c6cb;
}

/* Basemap Preview Bilder */
.basemap-card-preview.orthofoto {
  background: #3a6b35 url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%233a6b35" width="100" height="80"/><rect fill="%234a7b43" x="10" y="5" width="25" height="20" rx="2"/><rect fill="%232d5a27" x="40" y="10" width="30" height="25"/><rect fill="%235a8b53" x="75" y="0" width="25" height="35"/><rect fill="%234a7b43" x="0" y="30" width="35" height="25"/><rect fill="%232d5a27" x="45" y="40" width="20" height="20"/><rect fill="%235a8b53" x="70" y="45" width="30" height="35"/><rect fill="%234a7b43" x="5" y="60" width="40" height="20"/><path stroke="%23888" stroke-width="2" fill="none" d="M0,40 L100,40"/><path stroke="%23888" stroke-width="2" fill="none" d="M50,0 L50,80"/><rect fill="%23c4a882" x="20" y="35" width="8" height="10"/><rect fill="%23c4a882" x="55" y="15" width="12" height="8"/><rect fill="%23c4a882" x="70" y="55" width="10" height="12"/></svg>') center/cover no-repeat;
}

.basemap-card-preview.basisplan {
  background: #e8e8e8 url('/maps/tnet/resources/images/basemap-preview-grey.png') center/cover no-repeat;
}

.basemap-card-preview.grundbuch {
  background: #fff url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%23fff" width="100" height="80"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M0,25 L40,25 L40,0"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M40,25 L40,55 L0,55"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M40,25 L70,15 L100,15"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M40,55 L70,45 L100,45"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M70,15 L70,45"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M0,70 L50,70 L50,80"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M50,55 L50,70"/><path stroke="%23333" stroke-width="0.8" fill="none" d="M70,45 L70,80"/><rect fill="none" stroke="%23333" stroke-width="1" x="12" y="30" width="15" height="12"/><rect fill="none" stroke="%23333" stroke-width="1" x="50" y="20" width="12" height="10"/><rect fill="none" stroke="%23333" stroke-width="1" x="75" y="50" width="18" height="14"/><rect fill="none" stroke="%23333" stroke-width="1" x="8" y="58" width="10" height="8"/><text x="20" y="48" font-size="6" fill="%23666">234</text><text x="55" y="38" font-size="6" fill="%23666">235</text><text x="80" y="35" font-size="6" fill="%23666">236</text></svg>') center/cover no-repeat;
}

.basemap-card-preview.landeskarte {
  background: #f5efe6 url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%23f5efe6" width="100" height="80"/><path stroke="%23c4a060" stroke-width="0.5" fill="none" d="M0,15 Q25,10 50,18 T100,12"/><path stroke="%23c4a060" stroke-width="1" fill="none" d="M0,35 Q35,28 70,38 T100,32"/><path stroke="%23c4a060" stroke-width="0.5" fill="none" d="M0,55 Q30,50 65,58 T100,52"/><path stroke="%23c4a060" stroke-width="1" fill="none" d="M0,65 Q40,58 75,68 T100,62"/><ellipse fill="%238cb070" cx="20" cy="25" rx="12" ry="10"/><ellipse fill="%238cb070" cx="75" cy="60" rx="15" ry="12"/><path stroke="%23e04040" stroke-width="2" fill="none" d="M0,40 L45,38 L100,42"/><path stroke="%23fff" stroke-width="1.5" fill="none" d="M50,0 L48,40 L52,80"/><rect fill="%23ffd" x="40" y="32" width="20" height="15"/></svg>') center/cover no-repeat;
}

.basemap-card-preview.siegfried {
  background: #e8dcc0 url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%23e8dcc0" width="100" height="80"/><path stroke="%23a08060" stroke-width="0.4" fill="none" d="M0,12 Q20,8 45,15 T100,10"/><path stroke="%23a08060" stroke-width="0.8" fill="none" d="M0,36 Q30,28 65,38 T100,32"/><path stroke="%23a08060" stroke-width="0.4" fill="none" d="M0,60 Q35,54 70,62 T100,56"/><path stroke="%23a08060" stroke-width="0.8" fill="none" d="M0,72 Q40,64 75,74 T100,68"/><path stroke="%238b4513" stroke-width="1.5" fill="none" d="M0,40 L100,38"/><path stroke="%238b4513" stroke-width="1" fill="none" d="M50,0 L48,80"/></svg>') center/cover no-repeat;
}

.basemap-card-preview.transparent {
  background: repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 16px 16px;
}

.basemap-card-preview.keine {
  background: #fff;
  border: 1px solid #ddd;
}

.basemap-card-preview.av-color {
  background: #f8f4ee url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%23f8f4ee" width="100" height="80"/><path stroke="%23ddd" stroke-width="3" fill="none" d="M0,40 L100,40"/><path stroke="%23ddd" stroke-width="3" fill="none" d="M50,0 L50,80"/><path stroke="%23eee" stroke-width="1.5" fill="none" d="M0,20 L100,20"/><path stroke="%23eee" stroke-width="1.5" fill="none" d="M0,60 L100,60"/><rect fill="%23f0d8c0" stroke="%23c0a080" stroke-width="0.5" x="10" y="8" width="12" height="10"/><rect fill="%23e8c8b0" stroke="%23c0a080" stroke-width="0.5" x="55" y="5" width="18" height="12"/><rect fill="%23f0d8c0" stroke="%23c0a080" stroke-width="0.5" x="5" y="45" width="15" height="12"/><rect fill="%23e8c8b0" stroke="%23c0a080" stroke-width="0.5" x="55" y="45" width="20" height="15"/><rect fill="%23f0d8c0" stroke="%23c0a080" stroke-width="0.5" x="80" y="50" width="12" height="10"/></svg>') center/cover no-repeat;
}

.basemap-card-preview.osm {
  background: #f2efe9 url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><rect fill="%23f2efe9" width="100" height="80"/><path fill="%23aad3df" d="M70,0 L100,0 L100,30 L85,25 L70,30 Z"/><path stroke="%23fff" stroke-width="4" fill="none" d="M0,40 L100,40"/><path stroke="%23fcd6a4" stroke-width="3" fill="none" d="M0,40 L100,40"/><path stroke="%23fff" stroke-width="3" fill="none" d="M50,0 L50,80"/><rect fill="%23d9d0c9" stroke="%23bbb" stroke-width="0.3" x="10" y="8" width="12" height="10"/><rect fill="%23d9d0c9" stroke="%23bbb" stroke-width="0.3" x="55" y="5" width="18" height="12"/><rect fill="%23d9d0c9" stroke="%23bbb" stroke-width="0.3" x="5" y="45" width="15" height="12"/><rect fill="%23d9d0c9" stroke="%23bbb" stroke-width="0.3" x="55" y="45" width="20" height="15"/><ellipse fill="%23cdebb0" cx="85" cy="65" rx="12" ry="10"/></svg>') center/cover no-repeat;
}

.basemap-card-label {
  display: block;
  background: rgba(66, 74, 82, 0.85);
  color: white;
  font-size: 10px;
  text-align: center;
  padding: 4px 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


/* TNET-Komponenten-Styles sind in /maps/tnet/css/tnet-components.css */
